{% extends 'based.html' %}
{% load static %}
{% block body %}

<style>
    body {
        background: #f5f7fa;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .issue-card, .prescription-card {
        border-radius: 1rem;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .issue-card:hover, .prescription-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.12);
    }

    .issue-card img {
        border-radius: 0.75rem;
        max-width: 100%;
        height: auto;
        margin-top: 1rem;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .card-title {
        font-weight: 700;
        color: #0d6efd;
    }

    .card-text {
        font-size: 1rem;
        line-height: 1.5;
        color: #212529;
    }

    .prescription-card .card-header {
        border-top-left-radius: 1rem;
        border-top-right-radius: 1rem;
    }

    .btn-submit {
        border-radius: 0.5rem;
        padding: 0.5rem 1.2rem;
        font-weight: 600;
        background-color: #28a745;
        color: #fff;
        border: none;
        transition: all 0.2s ease;
    }
    .btn-submit:hover {
        background-color: #218838;
        transform: translateY(-1px);
        color: #fff;
    }

    form p {
        margin-bottom: 1rem;
    }
</style>

<div class="container my-5">

    <!-- Issue Card -->
    <div class="card shadow-sm mb-4 issue-card p-3">
        <div class="card-body">
            <h2 class="card-title">{{ issue.title }}</h2>
            <h6 class="text-muted">Reported by: {{ issue.farmer.username }}</h6>
            <p class="card-text mt-3">{{ issue.description }}</p>

            {% if issue.image %}
                <div class="text-center">
                    <img src="{{ issue.image.url }}" alt="Issue Image">
                </div>
            {% endif %}
        </div>
    </div>

    <!-- Expert Prescription Form -->
    <div class="card shadow-sm prescription-card">
        <div class="card-header bg-primary text-white">
            <h4 class="mb-0">Expert Prescription</h4>
        </div>
        <div class="card-body">
            <form method="post">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit" class="btn-submit mt-2">Save Prescription</button>
            </form>
        </div>
    </div>

</div>

{% endblock %}
